<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Meteoclimatic service • meteospain</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Meteoclimatic service">
<meta property="og:description" content="meteospain">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">meteospain</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="divider">
    <li class="dropdown-header">Services</li>
    <li>
      <a href="../articles/aemet.html">AEMET service</a>
    </li>
    <li>
      <a href="../articles/meteocat.html">MeteoCat service</a>
    </li>
    <li>
      <a href="../articles/meteogalicia.html">MeteoGalicia service</a>
    </li>
    <li>
      <a href="../articles/meteoclimatic.html">Meteoclimatic service</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Workflows</li>
    <li>
      <a href="../articles/api_limits.html">API limits and loops</a>
    </li>
    <li>
      <a href="../articles/compatibility.html">Compatibility betweeen services</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/emf-creaf/meteospain/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="meteoclimatic_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Meteoclimatic service</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/emf-creaf/meteospain/blob/master/vignettes/meteoclimatic.Rmd"><code>vignettes/meteoclimatic.Rmd</code></a></small>
      <div class="hidden name"><code>meteoclimatic.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://emf-creaf.github.io/meteospain">meteospain</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggforce.data-imaginist.com">ggforce</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span>
<span class="co">#&gt; Linking to GEOS 3.8.1, GDAL 3.2.1, PROJ 7.2.1</span></code></pre></div>
<div id="meteoclimatic-service" class="section level1">
<h1 class="hasAnchor">
<a href="#meteoclimatic-service" class="anchor"></a>Meteoclimatic service</h1>
<p><a href="https://www.meteoclimatic.net/">Meteoclimatic</a> is a non-professional (amateur) network of automatic meteorological stations. This network cover all Spain, but does not offer quality testing of the data.</p>
<div id="meteoclimatic-options" class="section level2">
<h2 class="hasAnchor">
<a href="#meteoclimatic-options" class="anchor"></a>Meteoclimatic options</h2>
<div id="temporal-resolution" class="section level3">
<h3 class="hasAnchor">
<a href="#temporal-resolution" class="anchor"></a>Temporal resolution</h3>
<p>Meteoclimatic API only offers aggregated data for the current day, so, in this case the <code>resolution</code> parameter is limited to “current_day”.</p>
</div>
<div id="stations" class="section level3">
<h3 class="hasAnchor">
<a href="#stations" class="anchor"></a>Stations</h3>
<p>Meteoclimatic API does not accept multiple stations in the same query. But it has station codes that can access the data from several stations in the same geographic area (i.e. “ES” for all stations, “ESCAT” for all stations in Catalunya, “ESCAT08” for all stations in Barcelona province). So, the <code>stations</code> is limited at length one.</p>
</div>
<div id="example" class="section level3">
<h3 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">api_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/services_options.html">meteoclimatic_options</a></span><span class="op">(</span>stations <span class="op">=</span> <span class="st">'ESCAT08'</span><span class="op">)</span>
<span class="va">api_options</span>
<span class="co">#&gt; $resolution</span>
<span class="co">#&gt; [1] "current_day"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $stations</span>
<span class="co">#&gt; [1] "ESCAT08"</span></code></pre></div>
</div>
</div>
<div id="meteoclimatic-stations-info" class="section level2">
<h2 class="hasAnchor">
<a href="#meteoclimatic-stations-info" class="anchor"></a>Meteoclimatic stations info</h2>
<p>Accessing station metadata for Meteoclimatic is simple:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/get_stations_info_from.html">get_stations_info_from</a></span><span class="op">(</span><span class="st">'meteoclimatic'</span>, options <span class="op">=</span> <span class="va">api_options</span><span class="op">)</span>
<span class="co">#&gt; Simple feature collection with 206 features and 3 fields</span>
<span class="co">#&gt; Geometry type: POINT</span>
<span class="co">#&gt; Dimension:     XY</span>
<span class="co">#&gt; Bounding box:  xmin: 1.58 ymin: 41.22 xmax: 2.72 ymax: 42.28</span>
<span class="co">#&gt; Geodetic CRS:  WGS 84</span>
<span class="co">#&gt; # A tibble: 206 × 4</span>
<span class="co">#&gt;    service       station_id          station_name                       geometry</span>
<span class="co">#&gt;  * &lt;chr&gt;         &lt;chr&gt;               &lt;chr&gt;                           &lt;POINT [°]&gt;</span>
<span class="co">#&gt;  1 meteoclimatic ESCAT0800000008591A Aiguafreda (Barcelona)         (2.25 41.77)</span>
<span class="co">#&gt;  2 meteoclimatic ESCAT0800000008328E Alella (Barcelona)             (2.29 41.49)</span>
<span class="co">#&gt;  3 meteoclimatic ESCAT0800000008328F Alella-Mirador (Barcelona)     (2.29 41.49)</span>
<span class="co">#&gt;  4 meteoclimatic ESCAT0800000008350A Arenys de Mar (Barcelona)      (2.56 41.59)</span>
<span class="co">#&gt;  5 meteoclimatic ESCAT0800000008358A Arenys de Munt (Barcelona)     (2.54 41.61)</span>
<span class="co">#&gt;  6 meteoclimatic ESCAT0800000008310B Argentona (Barcelona)          (2.39 41.56)</span>
<span class="co">#&gt;  7 meteoclimatic ESCAT0800000008915A Badalona - Bufalà (Barcelona)  (2.24 41.46)</span>
<span class="co">#&gt;  8 meteoclimatic ESCAT0800000008912A Badalona - Centre (Barcelona)  (2.25 41.45)</span>
<span class="co">#&gt;  9 meteoclimatic ESCAT0800000008911C Badalona - Dalt la Vila (Barc… (2.26 41.46)</span>
<span class="co">#&gt; 10 meteoclimatic ESCAT0800000008917B Badalona - La Pau (Barcelona)  (2.22 41.45)</span>
<span class="co">#&gt; # … with 196 more rows</span></code></pre></div>
</div>
<div id="meteoclimatic-data" class="section level2">
<h2 class="hasAnchor">
<a href="#meteoclimatic-data" class="anchor"></a>Meteoclimatic data</h2>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">current_day_barcelona</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_meteo_from.html">get_meteo_from</a></span><span class="op">(</span><span class="st">'meteoclimatic'</span>, options <span class="op">=</span> <span class="va">api_options</span><span class="op">)</span>
<span class="co">#&gt; Meteoclimatic is a non-professional network of automatic meteorological stations.</span>
<span class="co">#&gt; No quality check is performed in this data, and errors in measures or coordinates of stations can be present.</span>
<span class="co">#&gt; https://www.meteoclimatic.net/index</span>
<span class="va">current_day_barcelona</span>
<span class="co">#&gt; Simple feature collection with 206 features and 9 fields</span>
<span class="co">#&gt; Geometry type: POINT</span>
<span class="co">#&gt; Dimension:     XY</span>
<span class="co">#&gt; Bounding box:  xmin: 1.58 ymin: 41.22 xmax: 2.72 ymax: 42.28</span>
<span class="co">#&gt; Geodetic CRS:  WGS 84</span>
<span class="co">#&gt; # A tibble: 206 × 10</span>
<span class="co">#&gt;    timestamp           service       station_id          station_name min_temperature</span>
<span class="co">#&gt;  * &lt;dttm&gt;              &lt;chr&gt;         &lt;chr&gt;               &lt;chr&gt;                   [°C]</span>
<span class="co">#&gt;  1 2021-09-20 11:18:00 meteoclimatic ESCAT0800000008160A Montmeló-T.…            14.8</span>
<span class="co">#&gt;  2 2021-09-20 11:18:00 meteoclimatic ESCAT0800000008188C Vallromanes…            14.2</span>
<span class="co">#&gt;  3 2021-09-20 11:19:00 meteoclimatic ESCAT0800000008012A Barcelona -…            19.1</span>
<span class="co">#&gt;  4 2021-09-20 11:19:00 meteoclimatic ESCAT0800000008695E Cadí Est2-2…             2.7</span>
<span class="co">#&gt;  5 2021-09-20 11:20:00 meteoclimatic ESCAT0800000008035A Barcelona -…            17.1</span>
<span class="co">#&gt;  6 2021-09-20 11:20:00 meteoclimatic ESCAT0800000008540B Centelles (…            10.9</span>
<span class="co">#&gt;  7 2021-09-20 11:21:00 meteoclimatic ESCAT0800000008519B Tavèrnoles …            11.2</span>
<span class="co">#&gt;  8 2021-09-20 11:22:00 meteoclimatic ESCAT0800000008188B Vallromanes…            13.3</span>
<span class="co">#&gt;  9 2021-09-20 11:23:00 meteoclimatic ESCAT0800000008505A Sentfores (…            10.3</span>
<span class="co">#&gt; 10 2021-09-20 11:24:00 meteoclimatic ESCAT0800000008591A Aiguafreda …            11.4</span>
<span class="co">#&gt; # … with 196 more rows, and 5 more variables: max_temperature [°C],</span>
<span class="co">#&gt; #   min_relative_humidity [%], max_relative_humidity [%],</span>
<span class="co">#&gt; #   precipitation [L/m^2], geometry &lt;POINT [°]&gt;</span></code></pre></div>
<p>Visually:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">current_day_barcelona</span> <span class="op">%&gt;%</span>
  <span class="fu">units</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/units/man/drop_units.html">drop_units</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="va">max_temperature</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_colour_viridis_c</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="meteoclimatic_files/figure-html/meteoclimatic_data_plot-1.png" width="672" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">current_day_barcelona</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">max_relative_humidity</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span>
<span class="co">#&gt; Warning: Removed 2 rows containing non-finite values (stat_bin).</span></code></pre></div>
<p><img src="meteoclimatic_files/figure-html/meteoclimatic_data_plot-2.png" width="672" style="display: block; margin: auto;"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Victor Granda.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
